= Visual Embed changelog
:toc: true
:toclevels: 1

:page-title: Changelog
:page-pageid: embed-sdk-changelog
:page-description: Changes to the SDK and APIs

This changelog lists only the changes introduced in the Visual Embed SDK. For a complete list of ThoughtSpot Everywhere features and enhancements, see xref:whats-new.adoc[What's New].

== Version 1.12.0, Coming soon

[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#|
The upcoming version of Visual Embed SDK introduces the `navigate` host event, which is triggered when a user navigates to an application page without a page reload.

For more information, see xref:embed-events.adoc#host-events[Interact with events].
|[tag greenBackground]#NEW FEATURE# | The upcoming version of SDK includes the `getThoughtSpotPostUrlParams` method, which fetches ThoughtSpot URL query parameters prefixed with `ts-`.
|====

== Version 1.11.2, June 2022

Bug fix for Typescript builds that affect Angular project configurations.

== Version 1.11.1, May, 2022

[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#| The SDK includes the action enum `ReportError`, using which you can turn off ThoughtSpot-specific error reporting.
|====

== Version 1.11.0, May 2022

[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#  a| The new version of SDK includes the following new events:

* `ALL`
* `AnswerChartSwitcher`
* `AnswerDelete`
* `CopyAEdit`
* `CopyToClipboard`
* `Download` 
* `DownloadAsPdf`
* `DownloadAsCsv`
* `DownloadAsXlsx`
* `DrillExclude`
* `DrillInclude` 
* `EditTML`
* `ExportTML`
* `Monitor`
* `Pin`
* `Save`
* `SaveAsView`
* `Share`
* `ShowUnderlyingData`
* `SpotIQAnalyze`
* `UpdateTML`
* `VizPointClick`

For more information about how to register and handle these events, see xref:embed-events.adoc[Interact with events].
|[tag greenBackground]#NEW FEATURE#  a| The new version of SDK supports the `showAlerts` attribute, using which you can show or hide alerts and error messages in the embedded view.

|[tag greenBackground]#NEW FEATURE# a| The `Action.CreateMonitor` enumeration is available in the SDK for embedded ThoughtSpot environments on which the *Monitor* feature is enabled.
For more information, see xref:embed-actions.adoc[Show or hide UI actions].
|====

== Version 1.10.4, May 2022
[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#|The `detectCookieAccessSlow` parameter in the SDK allows your app to check if third-party cookies are enabled on the browser. This parameter is available only for `AuthServer` and `Basic` authentication types.
|====
== Version 1.10.3, May 2022

Bug fix and improvements to the `logout` method.

== Version 1.10.2, May 2022
[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#|Ability to configure `redirectPath` on the origin when using the SAML SSO `authType`.
|====

== Version 1.10.1, May 2022

[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#|You can now use the `logout` method to log out embed users.
|[tag orangeBackground]#MODIFIED# a| Note the following changes: +

* You can now use the `loginFailedMessage` property on init to display the `Not logged in` message when a user login fails. You can customize this message by defining a custom text string in the `loginFailedMessage` attribute. 
* The `init` method now returns an event emitter which can be used to listen to `AuthStatus` such as login failure, success, or user logout.
|====

== Version 1.10.0, April 2022

[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#  a| The `AddRemoveColumns` event is now available in the SDK. For more information, see xref:embed-events.adoc#embed-events[Interact with events].
|====

== Version 1.9.8, April 2022

[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#|The `pageId` attribute now allows you to set the **SpotIQ** page as the home tab of your embedded ThoughtSpot app. 

For more information, see xref:full-embed.adoc[Embed full application].
|====

== Version 1.9.6 and 1.9.7, April 2022

Bug fixes and improvements

== Version 1.9.5, April 2022
[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#|The `locale` attribute is now available in embed packages. You can use this attribute to set the locale or language of your embedded application view. 
For more information, see xref:locale-setting.adoc[Set locale and display language].
|====

== Version 1.9.4, April 2022

Bug fixes and improvements to React components.

== Version 1.9.3, March 2022

[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#| The SDK now supports the `disableLoginRedirect` attribute to improve the login experience for your application users. When enabled, this attribute prevents your app from redirecting users to the login page when their session expires. +
You can use this attribute along with `autoLogin` to automatically authenticate and re-login a user. +
This feature is applicable for token-based authentication, that is, when the `AuthType` is set as `AuthServer` in the SDK.

For more information, see xref:embed-authentication.adoc#trusted-auth-embed[Authentication].
|====

== Version 1.9.2, March 2022
[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#| You can now trigger events on React components using the `useEmbedRef` hook.

For more information, see xref:embed-ts-react-app.adoc[Embed ThoughtSpot in a React app].
|====

== Version 1.9.1, March 2022
[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#| The SDK now includes the `visibleVizs` attribute in the `LiveboardEmbed` package. This attribute allows you to add visualization GUIDs that you want to display when a Liveboard renders for the first time.

For more information, see xref:embed-pinboard.adoc[Embed a Liveboard].

|[tag greenBackground]#NEW FEATURE#  a| The following events are now available in the SDK: +

* `LiveboardRendered` (EmbedEvent)

For more information, see xref:embed-events.adoc#host-events[Interact with events].
|====

== Version 1.9.0, March 2022
[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#  a| The SDK now includes the following new enumerations for UI actions:

* `Action.AnswerDelete` +
* `Action.AnswerChartSwitcher` +
* `Action.AddToFavorites` +
* `Action.EditDetails` +

For more information, see xref:embed-actions.adoc#standard-actions[Show or hide UI actions].     

|[tag greenBackground]#NEW FEATURE#  a| The SDK now supports the `UpdateRuntimeFilters` host event. For more information, see xref:embed-events.adoc#host-events[Interact with events].
|====

== Version 1.8.x, February 2022

[width="100%" cols="1,4"]
|====
|[tag redBackground]#BREAKING CHANGE# | The `autoLogin` attribute is now set as `false` by default. This attribute is used in the `init` method to automatically re-login a user when a session expires.
|[tag greenBackground]#NEW FEATURE# | The `init` method now returns the `authPromise` which resolves when a user authentication is completed.
|====


== Version 1.7.0, January 2022

[width="100%" cols="1,4"]
|====
|
[tag greenBackground]#NEW FEATURE# |+++<h5>OIDC AuthType</h5> +++

The SDK supports the `OIDC` `authType` in `init` calls. If you want your application users to authenticate to an OpenID provider and use their SSO credentials to access the embedded ThoughtSpot content, you can enable the `OIDC` authentication type in the SDK. 

For more information, see xref:embed-authentication#oidc-auth.adoc[Authentication and security attributes].
|[tag greenBackground]#NEW FEATURE#  a|+++<h5>Embed events</h5>+++

The SDK includes the following new event:

* `RouteChange`

For more information, see xref:embed-events.adoc[Interact with events].

|====

== Version 1.6.x, November 2021

[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE# a|+++<h5>Visible actions</h5>+++

You can now configure a set of ThoughtSpot UI actions as visible actions and display these actions in the embedded UI. If your embedded instance requires only a few actions, you can use the `visibleActions` API to show only these actions in the embedded ThoughtSpot UI.
 
For more information, see xref:embed-actions.adoc[Show or hide UI actions].

|[tag orangeBackground]#MODIFIED# | +++<h5>Terminology changes </h5>+++ 

The SDK library and object parameter names are modified to rebrand pinboards as Liveboards. For a complete list of changes, see xref:terminology-update.adoc#sdk-changes[Terminology changes]. 

|[tag greenBackground]#NEW FEATURE#  a|+++<h5>Embed events</h5>+++

The SDK supports the following new events:

* `DialogOpen`
* `DialogClose`

For more information, see xref:embed-events.adoc[Interact with events].
|====

== Version 1.5.0, October 2021

[width="100%" cols="1,4"]
|====
||
|[tag greenBackground]#NEW FEATURE# | +++<h5>Render embedded objects in queue</h5>+++

The SDK now supports rendering embedded objects in a queue. If you have multiple embedded objects, you can enable the `queueMultiRenders` parameter to queue your embedded objects and render them one after another. This feature helps in decreasing the load on the web browsers and improving your application loading experience. By default, this attribute is set to `false`.

|[tag greenBackground]#NEW FEATURE# a|+++<h5>Liveboard embed</h5>+++

The `pinboardEmbed` package includes the `defaultHeight` attribute that sets a minimum height for embedded objects on a pinboard page and the corresponding visualization pages that a user can navigate to.

For more information, see xref:embed-search.adoc[Embed a pinboard].

|[tag greenBackground]#NEW FEATURE# a|+++<h5>Embed events</h5>+++

The SDK EmbedEvent library includes the following new events:

* `VizPointDoubleClick`
* `Drilldown`
* `SetVisibleVizs`

For more information, see xref:embed-events.adoc[Interact with events].

|====

== Version 1.4.0, September 2021

[width="100%" cols="1,4"]
|====
||
|[tag greenBackground]#NEW FEATURE# a|+++<h5>+++Prefetch API+++</h5>+++

The `prefetch` API fetches static resources from a given URL before your application loads. Web browsers can then cache the prefetched resources locally and serve them from a user's local disk. You can use this API to load the embedded objects faster and improve your application response time.

For more information, see xref:prefetch-and-cache.adoc[Prefetch static resources].

|[tag greenBackground]#NEW FEATURE# a|+++<h5>+++In-app page navigation+++</h5>+++

The `navigateToPage` method in the SDK lets you provide quick and direct access to a specific pinboard, saved answer, or an application page. You can add a custom menu action or button in your application UI that calls the `navigateToPage` method and leads your users to the page specified in the `path` parameter.

For more information, see xref:page-navigation.adoc[Add a custom action for in-app navigation].

|[tag greenBackground]#NEW FEATURE# a|+++<h5>+++Full application embedding+++</h5>+++

The `appEmbed` SDK package includes the following new attributes:

* The `disableProfileAndHelp` attribute to show or hide the `Help (?)` and the user profile menu in the navigation bar of your embedded app.

* The `hideObjects` attribute to hide specific objects from a user's page view.

For more information, see xref:full-embed.adoc[Embed full application].

|[tag greenBackground]#NEW FEATURE# |+++<h5>+++Search embed +++</h5>+++

The `searchEmbed` package includes the `forceTable` attribute that sets tabular view as the default format for presenting search data. You can use set this attribute to `true` to force search results to appear in the table view.

For more information, see xref:embed-search.adoc[Embed ThoughtSpot search].

|[tag redBackground]#REMOVED# |

The `searchQuery` parameter is no longer supported and is removed from the `searchEmbed` SDK package.
|[tag greenBackground]#NEW FEATURE# a|+++<h5>+++Embed events +++</h5>+++
The SDK EmbedEvent library includes the following events:

* `QueryChanged`
* `AuthExpire`

For more information, see xref:embed-events.adoc[Interact with events].
|====

== Version 1.3.0, August 2021

[width="100%" cols="1,4"]
|====
||
|[tag greenBackground]#NEW FEATURE#  a|  +++<h5>searchOptions</h5>+++

The `searchEmbed` SDK package introduces the `searchOptions` parameter for setting search tokens. The `searchOptions` parameter includes the following attributes:

* `searchTokenString`
+
A TML query string to define search tokens.

* `executeSearch`
+
When set to `true`, it executes search and shows the search results.

For more information, see xref:embed-search.adoc#search-query[Embed ThoughtSpot search].

|[tag redBackground]#DEPRECATED# a| +++<h5>searchQuery</h5>+++

The `searchQuery` parameter in the `searchEmbed` SDK package is deprecated in the Visual Embed SDK version 1.3.1. Instead, you can use the `searchOptions` parameter to define the search token string.

For more information about `searchOptions`, see xref:embed-search.adoc#search-query[Embed ThoughtSpot search].

|[tag greenBackground]#NEW FEATURE# a| +++<h5>autoLogin</h5>+++

The SDK now supports logging in users automatically after a user session has expired.

For more information, see xref:embed-authentication.adoc#embed-session-sec[Embed user authentication].

|[tag greenBackground]#NEW FEATURE# a| +++<h5>shouldEncodeUrlQueryParams</h5>+++

You can now convert query parameters in the ThoughtSpot generated URLs to base64-encoded format. You can enable this attribute to secure your cluster from cross-site scripting attacks.
|[tag redBackground]#BREAKING CHANGE# a| +++<h5>Data structure changes in custom action response payloads</h5>+++

* The  data structure passed in the custom action response for search now shows as `payload.data.embedAnswerData` instead of `payload.data.columnsAndData`.

* The answer payload for custom actions includes the following metadata:

** `reportBookmetadata`
+
Includes visualization metadata attributes such as description, object header metadata, author details, timestamp of the answer creation, and modification.

** user data
+
Includes user information such as username, GUID of the user, and email address.

To view a sample response payload, see xref:callback-response-payload.adoc#search-data-payload[Custom action response payload].

|[tag greenBackground]#NEW FEATURE# a| +++<h5>preventPinboardFilterRemoval</h5>+++

The `pinboardEmbed` SDK package now includes the `preventPinboardFilterRemoval` attribute. You can use this attribute to disable the filter removal action and thus prevent users from removing the filter chips added on a pinboard page.

For more information, see xref:embed-pinboard.adoc[Embed a pinboard] and xref:embed-a-viz.adoc[Embed a visualization].
|[tag greenBackground]#NEW FEATURE# a| +++<h5>suppressNoCookieAccessAlert</h5>+++

You can now set custom alerts for `noCookieAccess` events. By default, the SDK triggers a `noCookieAccess` event and generates an alert when a user's browser blocks third-party cookies. The `suppressNoCookieAccessAlert` allows you to disable this alert.

|[tag greenBackground]#NEW FEATURE# a| +++<h5>Support for fetching callback custom action payload in batches</h5>+++

The Visual Embed SDK now supports processing data in batches for callback custom action responses.
The callback custom action event in the SDK package supports defining `batchSize` and `offset` values to paginate the answer payload and send the records in batches.

For more information, see xref:push-data-to-external-app.adoc#large-dataset[Callback custom action workflow].
|====

== Version 1.2.0, June 2021

[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE# a|+++<h5>SAML authentication</h5>+++

The Visual Embed SDK packages now include the `noRedirect` attribute as an optional parameter for  the `SSO` `AuthType`. If you want to display the SAML authentication workflow in a pop-up window, instead of refreshing the application web page to direct users to the SAML login page, you can set the `noRedirect` attribute to `true`.

For more information, see the instructions for embedding xref:full-embed.adoc[ThoughtSpot pages], xref:embed-search.adoc[search], xref:embed-pinboard.adoc[pinboard], and xref:embed-a-viz.adoc[visualizations].


|[tag greenBackground]#NEW FEATURE# a|+++<h5>Pinboard actions</h5>+++
The *More* menu image:./images/icon-more-10px.png[the more options menu] in the embedded Pinboard page now shows the following actions for pinboard and visualizations.

Pinboard::
* Save
* Make a copy
* Add filters
* Configure filters
* Present
* Download as PDF
* Pinboard info
* Manage schedules


[NOTE]
Users with edit permissions can view and access the *Save*, *Add filters*, *Configure filters*, and *Manage schedules* actions.
|[tag greenBackground]#NEW FEATURE# a|+++<h5>Visualization actions</h5>+++

Visualizations on a pinboard:

* Pin
* Download
* Edit
* Present
* Download as CSV
* Download as XLSX
* Download as PDF

[NOTE]
Users with edit permissions can view and access the *Edit* action. The *Download as CSV*, *Download as XSLX*, and *Download as PDF* actions are available for table visualizations. The *Download* action is available for chart visualizations.

|====

== Version 1.1.0, May 2021

[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#  a|+++<h5>NoCookieAccess event</h5>+++

When a user accesses the embedded application from a web browser that has third-party cookies disabled, the Visual Embed SDK emits the `NoCookieAccess` event to notify the developer. Cookies are disabled by default in Safari. Users can enable third-party cookies in Safariâ€™s Preferences setting page or use another web browser.
To know how to enable this setting by default on Safari for a ThoughtSpot embedded instance, contact ThoughtSpot Support.
|====
