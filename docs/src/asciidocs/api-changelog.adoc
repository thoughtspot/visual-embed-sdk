= Visual Embed changelog
:toc: true
:toclevels: 1

:page-title: Changelog
:page-pageid: embed-sdk-changelog
:page-description: Changes to the SDK and APIs

This changelog lists only the changes introduced in the Visual Embed SDK. For a complete list of ThoughtSpot Everywhere features and enhancements, see xref:whats-new.adoc[What's New].

== Version 1.22.0, June 2023

[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE# a| The new version of the SDK introduces the `TrustedAuthTokenCookieless` `authType` property to allow Cookieless embedding. The Cookieless authentication method allows using a bearer token to identify the signed-in user instead of session cookies.

For more information, see xref:embed-authentication.adoc#_cookieless_authentication[Cookieless authentication].

|[tag greenBackground]#NEW FEATURE# a|The new version of the SDK allows you to block user access to the non-embedded instance of the ThoughtSpot application. In full app embed deployments, you can use the `blockNonEmbedFullAppAccess` property in the SDK to restrict or allow your application users from accessing ThoughtSpot pages in the non-embed mode.

For more information, see xref:getting-started.adoc#_block_access_to_non_embedded_thoughtspot_instance[Block access to non-embedded ThoughtSpot application context].
|====

////
|[tag greenBackground]#NEW FEATURE# a| The SDK supports the following performance optimization enhancements: +

* Ability to pre-render a generic instance of the ThoughtSpot component using the `prerenderGeneric` attribute. The generic instance uses the default host and flags and can be rendered in the background to improve application response.
* Ability to use an iFrame from a pre-rendered iFrame pool using the `usePrerenderedIfAvailable` attribute.
////

== Version 1.21.0, May 2023
[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE# a|The new version of the SDK introduces the following action enumeration members:

* `Action.AxisMenuAggregate`
* `Action.AxisMenuConditionalFormat`
* `Action.AxisMenuEdit`
* `Action.AxisMenuFilter`
* `Action.AxisMenuGroup`
* `Action.AxisMenuNumberFormat`
* `Action.AxisMenuPosition`
* `Action.AxisMenuRemove`
* `Action.AxisMenuRename`
* `Action.AxisMenuSort`
* `Action.AxisMenuTextWrapping`
* `Action.AxisMenuTimeBucket`
* `Action.CrossFilter`
* `Action.RemoveCrossFilter`

For more information, see xref:embed-action-ref.adoc[Action reference].

|[tag greenBackground]#NEW FEATURE# a| The SDK introduces the following events:

* `HostEvent.AddColumns`
* `HostEvent.OpenFilter`
* `HostEvent.RemoveColumn`
* `HostEvent.ResetSearch`
* `EmbedEvent.CrossFilterChanged`
* `EmbedEvent.DownloadAsPng`
* `EmbedEvent.VizPointRightClick`

For more information, see xref:events-ref.adoc[Events reference].

|[tag redBackground]#DEPRECATED# a|

The following events are deprecated from version 1.21.0 onwards.

* `HostEvent.Download` +
* `EmbedEvent.Download`

You can use the `DownloadAsPng`, `DownloadAsXlsx`, `DownloadAsCsv` and `DownloadAsPdf` events for download actions.

For more information, see xref:events-ref.adoc[Events reference].
|[tag orangeBackground]#MODIFIED# a|The SDK supports omitting or executing a search query in xref:events-ref.adoc#hostEventSearch[`HostEvent.Search`].

Starting from 9.2.0.cl release, use the following action enumeration members instead of `Action.Download` to show, hide, or disable the *Download* menu action on an embedded Liveboard, visualization, or Answer:

* `Action.DownloadAsCsv`
* `Action.DownloadAsPdf`
* `Action.DownloadAsXlsx`
* `Action.DownloadAsPng`

For more information, see xref:embed-action-ref.adoc[Action reference].

|[tag greenBackground]#NEW FEATURE# a| The SDK includes new attributes to customize the experience for embedded app users:

* `linkOverride`
+
Allows overriding the *Open in new tab* link on embedded pages.

* `contextMenuTrigger`
+
Allows triggering contextual menu the Liveboard visualizations and Answers from left-click to right-click.

* `hideSearchBar`
+
Allows hiding the Search bar on the embedded Search page.
|[tag greenBackground]#NEW FEATURE# | The SDK now allows setting the loading preference for embedded iFrames.
For performance optimization, you can set the `loading` attribute to `lazy` in the `FrameParams` property.
|====

== Version 1.20.0, April 2023

[width="100%" cols="1,4"]
|====
|[tag redBackground]#DEPRECATED# a|The `dataSources` property in `SearchEmbed` and `SearchBarEmbed` is deprecated and replaced with the `dataSource` attribute. The SDK supports searching from a single data source only.
|[tag greenBackground]#NEW FEATURE# a|The embed SDK packages now include the `insertAsSibling` property. This attribute can be used to insert the embedded object as a sibling to the element inside the target container.
|====

== Version 1.19.0, February 2023

[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE# a|The `customCSS` property in the `customizations` object supports new variables to customize the styles for dialogs, search bar, search navigation and search suggestions panels.
For more information, see xref:css-customization.adoc[Customize CSS].
|[tag redBackground]#BREAKING CHANGE# a|The new Liveboard experience mode introduces changes to the data format of the JSON response payload triggered by callback custom actions. For example, the `reportBookData`, and `vizData` attributes are modified, and the custom action `id` now is part of the data attribute. These changes may break your current custom action event handlers. For interoperability, we recommend adding the data attribute to `payload` in your code as shown in the example here:

[source,JavaScript]

----
liveboardEmbed.on(EmbedEvent.CustomAction, payload => {
    if (payload.id === "callback-action-id" \|\| payload.data.id === "callback-action-id") {
        console.log('Custom Action event:', payload.data);
    }
})
----

You may also want to update the data classes in your scripts to process the JSON response payload and handle complex data. For more information, see xref:custom-actions-callback.adoc#_define_functions_and_classes_to_handle_liveboard_data[Callback custom actions].

|[tag greenBackground]#NEW FEATURE# a|The new version of the SDK introduces the following Host events:

* `HostEvent.Delete`
* `HostEvent.Download`
* `HostEvent.DownloadAsCsv`
* `HostEvent.DownloadAsXlsx`
* `HostEvent.ManagePipelines`
* `HostEvent.Save`
* `HostEvent.Share`
* `HostEvent.ShowUnderlyingData`
* `HostEvent.SpotIQAnalyze`
* `HostEvent.SyncToOtherApps`
* `HostEvent.SyncToSheets`

For more information, see xref:events-ref.adoc#host-events[Host events].

|[tag redBackground]#DEPRECATED# a|The `noRedirect` property in the SDK is deprecated and replaced with the `inPopup` attribute. When set to `true`, the `inPopup` attribute allows the SAML SSO authentication flow in a pop-up window.

For more information, see xref:embed-authentication.adoc#_saml_redirection[SAML Redirection].
|====

== Version 1.18.0, January 2023

[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE# a|The new version of the SDK provides the `SearchBarEmbed` JavaScript package to embed only the ThoughtSpot Search bar in your app. +

For more information, see xref:embed-searchbar.adoc[Embed ThoughtSpot search bar].

|[tag greenBackground]#NEW FEATURE# a|The `customCSS` property in the `customizations` object supports new variables to customize the UI elements on Liveboard, visualization, and Answer pages. You can also use these variables to define custom styles in the CSS file. +
For more information, see xref:css-customization.adoc[Customize CSS].
|[tag greenBackground]#NEW FEATURE# |The new version of the SDK allows fetching TML objects via `GetTML` host event. This event is triggered when a user clicks on the *Show underlying data* action on a Liveboard visualization or Answer page. +

For more information, see xref:events-ref.adoc#_gettml[GetTML].

|[tag greenBackground]#NEW FEATURE# a| The new version of the SDK introduces the following enums in the `Action` object:

* `Action.SyncToOtherApps` +
* `Action.SyncToSheets` +
* `Action.ManagePipelines` +

You can use these enums to show, hide, or disable *Sync to sheets*, *Sync to other apps*, and *Manage pipelines* menu actions on a Liveboard visualization or Answer.

For more information, see xref:embed-action-ref.adoc[Actions].
|====

== Version 1.17.1, December 2022

Bug fixes to the trusted authentication feature.

== Version 1.17.0, November 2022

The new version of the SDK introduces several new features and enhancements
[width="100%" cols="1,4"]
|====
|[tag orangeBackground]#MODIFIED# a|The `AuthType` property is modified and supports new enums. +

* `AuthType.SAML` is renamed as `AuthType.SAMLRedirect` +
* `AuthType.OIDC` is renamed as `AuthType.OIDCRedirect` +
* `AuthType.AuthServer` is renamed to `AuthType.TrustedAuthToken` +
This enhancement does not introduce any breaking changes to your current implementation.
|[tag greenBackground]#NEW FEATURE# a|To use your current SAML or OIDC authentication setup and redirect users to the IdP for authentication within the embedded iFrame, you can now use `AuthType.EmbeddedSSO`. +
For more information, see xref:embed-authentication.adoc[Authentication].
|[tag greenBackground]#NEW FEATURE#|
The `customizations` object in the SDK allows you to specify a custom CSS URL. You can also use this object to define CSS variables directly in the `init` code. +
For more information, see xref:css-customization.adoc[Customize CSS].
|====

== Version 1.16.0, October 2022

The new version of the SDK includes bug fixes and improvements to the new Liveboard experience.

== Version 1.15.1, September 2022
[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#|
The `prefetch` method now supports the `url` and `prefetchFeatures` parameters. You can use these parameters to call the prefetch method before `init` and prefetch static resources on application load. +
For more information, see xref:prefetch-and-cache.adoc[Prefetch static resources].
|====

== Version 1.15.0, September 2022
[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#|
For embedded instances with the new Liveboard experience, the Visual Embed SDK provides the `activeTabId` attribute, using which you can set a Liveboard tab as an active tab.
For more information, see xref:enable-liveboardv2.adoc#_customize_liveboard_tabs[Customize Liveboard tabs].
|[tag greenBackground]#NEW FEATURE# a|The new version of the SDK supports firing events for Liveboard menu actions from the host application. The SDK introduces the following host event enumeration members for Liveboard objects:

* CopyLink
* CreateMonitor
* DownloadAsPdf
* Edit
* EditTML
* Explore
* ExportTML
* LiveboardInfo
* MakeACopy
* ManageMonitor
* Pin
* Present
* Remove
* Schedule
* SchedulesList
* UpdateTML

For more information, see xref:events-ref.adoc#host-events[Events reference].
|====

== Version 1.14.0, August 2022
[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#|
The Visual Embed SDK now includes the `liveboardV2` attribute in the `LiveboardEmbed` package to allow developers to enable the new Liveboard experience on their embedded ThoughtSpot instance. +
For more information, see xref:embed-pinboard.adoc[Embed a Liveboard].
|[tag orangeBackground]#MODIFIED#|If trusted authentication is enabled, the SDK makes a `POST` API call to get a login token and log the user into ThoughtSpot.
The earlier versions of the SDK supported only `GET` API requests. For more information, see xref:embed-authentication.adoc#_configure_token_based_authentication_method_in_visual_embed_sdk[Configure token-based authentication method in Visual Embed SDK].
|====

== Version 1.13.0, July 2022
[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#|
This version of Visual Embed SDK includes the `enableSearchAssist` attribute, using which you can turn on the Search Assist feature on an embedded instance. +
For more information, see xref:search-assist-tse.adoc[Enable Search Assist, window=_blank].
|[tag greenBackground]#NEW FEATURE#| The new version of SDK introduces the `AuthType.SAML` enum for SAML-based SSO authentication. Note that `AuthType.SAML` replaces the `AuthType.SSO` enum, which is deprecated in the v1.13.0 version of the SDK. +
For more information, see xref:embed-authentication.adoc#saml-sso-embed[Authentication].
|[tag redBackground]#DEPRECATED#| The `AuthType.SSO` enum is deprecated in v1.13.0. ThoughtSpot recommends using `AuthType.SAML` for the SAML SSO authentication method. +
This change does not impact your current embed implementation with `AuthType.SSO`.
|[tag greenBackground]#NEW FEATURE#| The SDK includes the `getExportRequestForCurrentPinboard` event, which is triggered when a user tries to export a Liveboard in its current state. +
For more information, see xref:events-ref.adoc#host-events[Events reference].
|====

== Version 1.12.0, June 2022

[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#|
This version of Visual Embed SDK introduces the `navigate` host event, which is triggered when a user navigates to an application page without a page reload.

For more information, see xref:events-ref.adochost-events[Events reference].
|[tag greenBackground]#NEW FEATURE# | The new `getThoughtSpotPostUrlParams` method fetches ThoughtSpot URL query parameters prefixed with `ts-`.
|====

== Version 1.11.2, June 2022

Bug fix for Typescript builds that affect Angular project configurations.

== Version 1.11.1, May 2022

[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#| The SDK includes the action enum `ReportError`, using which you can turn off ThoughtSpot-specific error reporting.
|====

== Version 1.11.0, May 2022

[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#  a| The new version of SDK includes the following new events:

* `ALL`
* `AnswerChartSwitcher`
* `AnswerDelete`
* `CopyAEdit`
* `CopyToClipboard`
* `Download`
* `DownloadAsPdf`
* `DownloadAsCsv`
* `DownloadAsXlsx`
* `DrillExclude`
* `DrillInclude`
* `EditTML`
* `ExportTML`
* `Monitor`
* `Pin`
* `Save`
* `SaveAsView`
* `Share`
* `ShowUnderlyingData`
* `SpotIQAnalyze`
* `UpdateTML`
* `VizPointClick`

For more information about how to register and handle these events, see xref:embed-events.adoc[Events and app integration].
|[tag greenBackground]#NEW FEATURE#  a| The new version of SDK supports the `showAlerts` attribute, using which you can show or hide alerts and error messages in the embedded view.

|[tag greenBackground]#NEW FEATURE# a| The `Action.CreateMonitor` enumeration is available in the SDK for embedded ThoughtSpot environments on which the *Monitor* feature is enabled.
For more information, see xref:embed-actions.adoc[Show or hide UI actions].
|====

== Version 1.10.4, May 2022
[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#|The `detectCookieAccessSlow` parameter in the SDK allows your app to check if third-party cookies are enabled on the browser. This parameter is available only for trusted and `Basic` authentication types.
|====
== Version 1.10.3, May 2022

Bug fix and improvements to the `logout` method.

== Version 1.10.2, May 2022
[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#|Ability to configure `redirectPath` on the origin when using the SAMLRedirect `authType`.
|====

== Version 1.10.1, May 2022

[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#|You can now use the `logout` method to log out embed users.
|[tag orangeBackground]#MODIFIED# a| Note the following changes: +

* You can now use the `loginFailedMessage` property on init to display the `Not logged in` message when a user login fails. You can customize this message by defining a custom text string in the `loginFailedMessage` attribute.
* The `init` method now returns an event emitter which can be used to listen to `AuthStatus` such as login failure, success, or user logout.
|====

== Version 1.10.0, April 2022

[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#  a| The `AddRemoveColumns` event is now available in the SDK. For more information, see xref:events-ref.adoc.adoc#embed-events[Events reference].
|====

== Version 1.9.8, April 2022

[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#|The `pageId` attribute now allows you to set the **SpotIQ** page as the home tab of your embedded ThoughtSpot app.

For more information, see xref:full-embed.adoc[Embed full application].
|====

== Version 1.9.6 and 1.9.7, April 2022

Bug fixes and improvements

== Version 1.9.5, April 2022
[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#|The `locale` attribute is now available in embed packages. You can use this attribute to set the locale or language of your embedded application view.
For more information, see xref:locale-setting.adoc[Set locale and display language].
|====

== Version 1.9.4, April 2022

Bug fixes and improvements to React components.

== Version 1.9.3, March 2022

[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#| The SDK now supports the `disableLoginRedirect` attribute to improve the login experience for your application users. When enabled, this attribute prevents your app from redirecting users to the login page when their session expires. +
You can use this attribute along with `autoLogin` to automatically authenticate and re-login a user. +
This feature is applicable to token-based authentication, that is, when the `AuthType` is set as `TrustedAuthToken` in the SDK.

For more information, see xref:embed-authentication.adoc#trusted-auth-embed[Authentication].
|====

== Version 1.9.2, March 2022
[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#| You can now trigger events on React components using the `useEmbedRef` hook.

For more information, see xref:embed-ts-react-app.adoc[Embed ThoughtSpot in a React app].
|====

== Version 1.9.1, March 2022
[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#| The SDK now includes the `visibleVizs` attribute in the `LiveboardEmbed` package. This attribute allows you to add visualization GUIDs that you want to display when a Liveboard renders for the first time.

For more information, see xref:embed-pinboard.adoc[Embed a Liveboard].

|[tag greenBackground]#NEW FEATURE#  a| The following events are now available in the SDK: +

* `LiveboardRendered` (EmbedEvent)

For more information, see xref:events-ref.adoc#embed-events[Events reference].
|====

== Version 1.9.0, March 2022
[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#  a| The SDK now includes the following new enumerations for UI actions:

* `Action.AnswerDelete` +
* `Action.AnswerChartSwitcher` +
* `Action.AddToFavorites` +
* `Action.EditDetails` +

For more information, see xref:embed-actions.adoc#standard-actions[Show or hide UI actions].

|[tag greenBackground]#NEW FEATURE#  a| The SDK now supports the `UpdateRuntimeFilters` host event. For more information, see xref:events-ref.adoc#host-events[Events reference].
|====

== Version 1.8.x, February 2022

[width="100%" cols="1,4"]
|====
|[tag redBackground]#BREAKING CHANGE# | The `autoLogin` attribute is now set as `false` by default. This attribute is used in the `init` method to automatically re-login a user when a session expires.
|[tag greenBackground]#NEW FEATURE# | The `init` method now returns the `authPromise` which resolves when a user authentication is completed.
|====


== Version 1.7.0, January 2022

[width="100%" cols="1,4"]
|====
|
[tag greenBackground]#NEW FEATURE# |+++<h5>OIDC AuthType</h5> +++

The SDK supports the `OIDC` `authType` in `init` calls. If you want your application users to authenticate to an OpenID provider and use their SSO credentials to access the embedded ThoughtSpot content, you can enable the `OIDC` authentication type in the SDK.

For more information, see xref:embed-authentication#oidc-auth.adoc[Authentication and security attributes].
|[tag greenBackground]#NEW FEATURE#  a|+++<h5>Embed events</h5>+++

The SDK includes the following new event:

* `RouteChange`

For more information, see xref:events-ref.adoc#embed-events[Events reference].

|====

== Version 1.6.x, November 2021

[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE# a|+++<h5>Visible actions</h5>+++

You can now configure a set of ThoughtSpot UI actions as visible actions and display these actions in the embedded UI. If your embedded instance requires only a few actions, you can use the `visibleActions` API to show only these actions in the embedded ThoughtSpot UI.

For more information, see xref:embed-actions.adoc[Show or hide UI actions].

|[tag orangeBackground]#MODIFIED# | +++<h5>Terminology changes </h5>+++

The SDK library and object parameter names are modified to rebrand pinboards as Liveboards. For a complete list of changes, see xref:terminology-update.adoc#sdk-changes[Terminology changes].

|[tag greenBackground]#NEW FEATURE#  a|+++<h5>Embed events</h5>+++

The SDK supports the following new events:

* `DialogOpen`
* `DialogClose`

For more information, see xref:events-ref.adoc#embed-events[Events reference].
|====

== Version 1.5.0, October 2021

[width="100%" cols="1,4"]
|====
||
|[tag greenBackground]#NEW FEATURE# | +++<h5>Render embedded objects in queue</h5>+++

The SDK now supports rendering embedded objects in a queue. If you have multiple embedded objects, you can enable the `queueMultiRenders` parameter to queue your embedded objects and render them one after another. This feature helps in decreasing the load on the web browsers and improving your application loading experience. By default, this attribute is set to `false`.

|[tag greenBackground]#NEW FEATURE# a|+++<h5>Liveboard embed</h5>+++

The `pinboardEmbed` package includes the `defaultHeight` attribute that sets a minimum height for embedded objects on a pinboard page, and the corresponding visualization pages that a user can navigate to.

For more information, see xref:embed-search.adoc[Embed a pinboard].

|[tag greenBackground]#NEW FEATURE# a|+++<h5>Embed events</h5>+++

The SDK EmbedEvent library includes the following new events:

* `VizPointDoubleClick`
* `Drilldown`
* `SetVisibleVizs`

For more information, see xref:events-ref.adoc#embed-events[Events reference].

|====

== Version 1.4.0, September 2021

[width="100%" cols="1,4"]
|====
||
|[tag greenBackground]#NEW FEATURE# a|+++<h5>+++Prefetch API+++</h5>+++

The `prefetch` API fetches static resources from a given URL before your application loads. Web browsers can then cache the prefetched resources locally and serve them from a user's local disk. You can use this API to load the embedded objects faster and improve your application response time.

For more information, see xref:prefetch-and-cache.adoc[Prefetch static resources].

|[tag greenBackground]#NEW FEATURE# a|+++<h5>+++In-app page navigation+++</h5>+++

The `navigateToPage` method in the SDK lets you provide quick and direct access to a specific pinboard, saved Answer, or an application page. You can add a custom menu action or button in your application UI that calls the `navigateToPage` method and leads your users to the page specified in the `path` parameter.

For more information, see xref:page-navigation.adoc[Add a custom action for in-app navigation].

|[tag greenBackground]#NEW FEATURE# a|+++<h5>+++Full application embedding+++</h5>+++

The `appEmbed` SDK package includes the following new attributes:

* The `disableProfileAndHelp` attribute to show or hide the `Help (?)` and the user profile menu in the navigation bar of your embedded app.

* The `hideObjects` attribute to hide specific objects from a user's page view.

For more information, see xref:full-embed.adoc[Embed full application].

|[tag greenBackground]#NEW FEATURE# |+++<h5>+++Search embed +++</h5>+++

The `searchEmbed` package includes the `forceTable` attribute that sets tabular view as the default format for presenting search data. You can use set this attribute to `true` to force search results to appear in the table view.

For more information, see xref:embed-search.adoc[Embed ThoughtSpot search].

|[tag redBackground]#REMOVED# |

The `searchQuery` parameter is no longer supported and is removed from the `searchEmbed` SDK package.
|[tag greenBackground]#NEW FEATURE# a|+++<h5>+++Embed events +++</h5>+++
The SDK EmbedEvent library includes the following events:

* `QueryChanged`
* `AuthExpire`

For more information, see xref:embed-events.adoc[Events and app integration].
|====

== Version 1.3.0, August 2021

[width="100%" cols="1,4"]
|====
||
|[tag greenBackground]#NEW FEATURE#  a|  +++<h5>searchOptions</h5>+++

The `searchEmbed` SDK package introduces the `searchOptions` parameter for setting search tokens. The `searchOptions` parameter includes the following attributes:

* `searchTokenString`
+
A TML query string to define search tokens.

* `executeSearch`
+
When set to `true`, it executes search and shows the search results.

For more information, see xref:embed-search.adoc#search-query[Embed ThoughtSpot search].

|[tag redBackground]#DEPRECATED# a| +++<h5>searchQuery</h5>+++

The `searchQuery` parameter in the `searchEmbed` SDK package is deprecated in the Visual Embed SDK version 1.3.1. Instead, you can use the `searchOptions` parameter to define the search token string.

For more information about `searchOptions`, see xref:embed-search.adoc#search-query[Embed ThoughtSpot search].

|[tag greenBackground]#NEW FEATURE# a| +++<h5>autoLogin</h5>+++

The SDK now supports logging in users automatically after a user session has expired.

For more information, see xref:embed-authentication.adoc#embed-session-sec[Embed user authentication].

|[tag greenBackground]#NEW FEATURE# a| +++<h5>shouldEncodeUrlQueryParams</h5>+++

You can now convert query parameters in the ThoughtSpot generated URLs to base64-encoded format. You can enable this attribute to secure your cluster from cross-site scripting attacks.
|[tag redBackground]#BREAKING CHANGE# a| +++<h5>Data structure changes in custom action response payloads</h5>+++

* The  data structure passed in the custom action response for search now shows as `payload.data.embedAnswerData` instead of `payload.data.columnsAndData`.

* The Answer payload for custom actions includes the following metadata:

** `reportBookmetadata`
+
Includes visualization metadata attributes such as description, object header metadata, author details, timestamp of the Answer creation, and modification.

** user data
+
Includes user information such as username, GUID of the user, and email address.

To view a sample response payload, see xref:callback-response-payload.adoc#search-data-payload[Custom action response payload].

|[tag greenBackground]#NEW FEATURE# a| +++<h5>preventPinboardFilterRemoval</h5>+++

The `pinboardEmbed` SDK package now includes the `preventPinboardFilterRemoval` attribute. You can use this attribute to disable the filter removal action and thus prevent users from removing the filter chips added on a pinboard page.

For more information, see xref:embed-pinboard.adoc[Embed a pinboard] and xref:embed-a-viz.adoc[Embed a visualization].
|[tag greenBackground]#NEW FEATURE# a| +++<h5>suppressNoCookieAccessAlert</h5>+++

You can now set custom alerts for `noCookieAccess` events. By default, the SDK triggers a `noCookieAccess` event and generates an alert when a user's browser blocks third-party cookies. The `suppressNoCookieAccessAlert` allows you to disable this alert.

|[tag greenBackground]#NEW FEATURE# a| +++<h5>Support for fetching callback custom action payload in batches</h5>+++

The Visual Embed SDK now supports processing data in batches for callback custom action responses.
The callback custom action event in the SDK package supports defining `batchSize` and `offset` values to paginate the Answer payload and send the records in batches.

For more information, see xref:push-data-to-external-app.adoc#large-dataset[Callback custom action workflow].
|====

== Version 1.2.0, June 2021

[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE# a|+++<h5>SAML authentication</h5>+++

The Visual Embed SDK packages now include the `noRedirect` attribute as an optional parameter for  the SAMLRedirect SSO `AuthType`. If you want to display the SAML authentication workflow in a pop-up window, instead of refreshing the application web page to direct users to the SAML login page, you can set the `noRedirect` attribute to `true`.

For more information, see the instructions for embedding xref:full-embed.adoc[ThoughtSpot pages], xref:embed-search.adoc[search], xref:embed-pinboard.adoc[pinboard], and xref:embed-a-viz.adoc[visualizations].

|[tag greenBackground]#NEW FEATURE# a|+++<h5>Pinboard actions</h5>+++
The *More* menu image:./images/icon-more-10px.png[the more options menu] in the embedded Pinboard page now shows the following actions for pinboard and visualizations.

Pinboard::
* Save
* Make a copy
* Add filters
* Configure filters
* Present
* Download as PDF
* Pinboard info
* Manage schedules


[NOTE]
Users with edit permissions can view and access the *Save*, *Add filters*, *Configure filters*, and *Manage schedules* actions.
|[tag greenBackground]#NEW FEATURE# a|+++<h5>Visualization actions</h5>+++

Visualizations on a pinboard:

* Pin
* Download
* Edit
* Present
* Download as CSV
* Download as XLSX
* Download as PDF

[NOTE]
Users with edit permissions can view and access the *Edit* action. The *Download as CSV*, *Download as XSLX*, and *Download as PDF* actions are available for table visualizations. The *Download* action is available for chart visualizations.

|====

== Version 1.1.0, May 2021

[width="100%" cols="1,4"]
|====
|[tag greenBackground]#NEW FEATURE#  a|+++<h5>NoCookieAccess event</h5>+++

When a user accesses the embedded application from a web browser that has third-party cookies disabled, the Visual Embed SDK emits the `NoCookieAccess` event to notify the developer. Cookies are disabled by default in Safari. Users can enable third-party cookies in Safariâ€™s Preferences setting page or use another web browser.
To know how to enable this setting by default on Safari for a ThoughtSpot embedded instance, contact ThoughtSpot Support.
|====
